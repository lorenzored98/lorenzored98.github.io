<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="stylesheet" href="style.css" />
		<link rel="icon" href="favicon.ico" type="image/x-icon" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta http-equiv="content-security-policy" content="">
		<link href="./_app/immutable/assets/_page-3fc388c2.css" rel="stylesheet">
		<link href="./_app/immutable/assets/BlankLink-baa910b1.css" rel="stylesheet">
		<link href="./_app/immutable/assets/Main-ea5f00cf.css" rel="stylesheet">
		<link href="./_app/immutable/assets/DemoContainer-7e0eb7df.css" rel="stylesheet">
		<link href="./_app/immutable/assets/NumberRange-c777d2cc.css" rel="stylesheet">
		<link rel="modulepreload" href="./_app/immutable/start-15d65c02.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/index-cc72a6df.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/singletons-d982c61e.js">
		<link rel="modulepreload" href="./_app/immutable/components/layout.svelte-7b7f8304.js">
		<link rel="modulepreload" href="./_app/immutable/modules/pages/_layout.js-9cbb603b.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/_layout-da46b06b.js">
		<link rel="modulepreload" href="./_app/immutable/components/pages/pixel-sorting/_page.svelte-f2a5792d.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/BlankLink-67e3b987.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/Main-b5bd4390.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/Seo-89a4dbfb.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/math-4278f00e.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/DemoContainer-9660551e.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/NumberRange-2610ca5a.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/ImageSelect-d6dad564.js"><title>Pixel Sorting</title><!-- HEAD_svelte-7fzk99_START --><meta name="description" content="Sort image colors by similarity"><meta name="keywords" content="Pixel Sorting, Color Sorting, Javascript"><meta name="author" content="Pepe Lorenzo"><meta property="og:title" content="Pixel Sorting"><meta property="og:description" content="Sort image colors by similarity"><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><!-- HEAD_svelte-7fzk99_END -->
	</head>
	<body>
		<div id="app">




<main class="svelte-1rvfn7p"><section class="svelte-pdvyg4"><div class="container svelte-i18vmk"><div class="not_the_title svelte-i18vmk"><a href="/" class="svelte-i18vmk">Back</a>
		<time datetime="2022-5-6" class="svelte-i18vmk">06/05/2022</time></div>
	<h1>Pixel sorting</h1>
</div>
		<p>Implementing <a href="https://twitter.com/kGolid" rel="noopener noreferrer nofollow" target="_blank" class="svelte-9bdt8p">Kjetil Golid
</a> pixel/color sorting.
		</p>

		<p>For every pixel in the image, compute the average color of the
			current pixel&#39;s surrounding pixels. Within a maximum number of
			tries, find a different non-processed pixel with the most similar
			color to the computed average and swap them.
		</p>

		<p>sRGB is not the best color space for a color difference function. I
			converted the colors to <a href="https://bottosson.github.io/posts/oklab/" rel="noopener noreferrer nofollow" target="_blank" class="svelte-9bdt8p">Oklab
</a>.
		</p>

		<p>The orientation and result of this effect is a combination of:</p>
		<ul><li>The algorithm processes pixels from top to bottom. This is not a
				requirement. I&#39;ve seen vastly cooler versions, such as a radial
				one and a seemingly noise-based one.
			</li>
			<li>Which and how many of the 8 surrounding pixels are being used to
				compute the color difference. In this demo, I&#39;m using the
				top-left, top, and left pixels.
			</li></ul>
		<div class="demo-container svelte-k8af6f" id="pixel-sorting-demo"><figure><figcaption class="svelte-k8af6f">Pixel Sorting</figcaption>
		<canvas slot="canvas" class="svelte-1wvpccn"></canvas></figure>
	<fieldset slot="controls"><div class="demo-input-group"><label for="pixel-sorting-samples">Samples: (50)</label>
			<div class="wrapper svelte-7715t9"><div class="input-wrapper svelte-7715t9"><input type="range" id="pixel-sorting-samples" min="1" max="100" step="1" style="background: linear-gradient(to right, var(--link) 0%, var(--link) 49.494949494949495%, var(--border-color) 49.494949494949495%, var(--border-color) 100%)" class="svelte-7715t9" value="50"></div>
	<div class="ranges svelte-7715t9"><span>1</span>
		<span>100</span></div>
</div></div>

		<div class="demo-input-group"><label for="pixel-sorting-images">Source</label>
<select id="pixel-sorting-images"><option default value="/images/ukiyo-e.webp">Ukiyo-e</option><option value="/images/arcane.webp">Arcane</option><option value="/images/akira.webp">Akira</option><option value="/images/jargon.webp">Jargon</option></select></div>

		<div class="demo-multi-input-group svelte-1wvpccn"><div class="demo-input-group"><button >Start</button></div>
			<div class="demo-input-group"><button disabled>Pause</button></div>
			<div class="demo-input-group"><button>Reset</button></div></div></fieldset>
</div>
</section>
</main>


		<script type="module" data-sveltekit-hydrate="107uwy1">
			import { start } from "./_app/immutable/start-15d65c02.js";

			start({
				env: {},
				paths: {"base":"","assets":""},
				target: document.querySelector('[data-sveltekit-hydrate="107uwy1"]').parentNode,
				version: "1683300847344",
				hydrate: {
					node_ids: [0, 11],
					data: [null,null],
					form: null
				}
			});
		</script>
	</div>
	</body>
</html>
