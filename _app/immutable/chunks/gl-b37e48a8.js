function x(e,a,t){const r=e.createShader(a);if(!r)throw new Error("Could not create shader");if(e.shaderSource(r,t),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))return r;const n=e.getShaderInfoLog(r);throw e.deleteShader(r),new Error(n||"Could not compile shader")}function f(e,{vert:a,frag:t}){const r=e.createProgram();if(!r)throw new Error("Could not create program");if(e.attachShader(r,a),e.attachShader(r,t),e.linkProgram(r),e.getProgramParameter(r,e.LINK_STATUS))return e.deleteShader(a),e.deleteShader(t),r;const n=e.getProgramInfoLog(r);throw e.deleteProgram(r),new Error(n||"Could not link program")}let i=1;function A(e,{src:a,mipmaps:t=null,internalFormat:r="rgba",target:c="rgba",wrapS:n="REPEAT",wrapT:u="REPEAT",minFilter:_="NEAREST",magFilter:d="NEAREST",flipY:h=!1}){const T=i;i++;const E=e.createTexture();if(!E)throw new Error("Couldn't create texture");const R=c==="rgb"?e.RGB:e.RGBA,m=r==="rgb"?e.RGB:e.RGBA,S=e[n],P=e[u];let s=e[_];const U=e[d];t&&(s=e[t]);const o=new Image;return o.crossOrigin="anonymous",o.src=a,o.onload=()=>{w(e,E,T),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,S),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,P),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,s),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,U),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,h),e.texImage2D(e.TEXTURE_2D,0,m,o.width,o.height,0,R,e.UNSIGNED_BYTE,o),t&&e.generateMipmap(e.TEXTURE_2D)},{id:T,value:E}}function w(e,a,t){e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,a)}export{f as a,A as b,x as c,w as u};
