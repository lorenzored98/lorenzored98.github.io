function x(e,t,a){const r=e.createShader(t);if(!r)throw new Error("Could not create shader");if(e.shaderSource(r,a),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))return r;const o=e.getShaderInfoLog(r);throw e.deleteShader(r),new Error(o||"Could not compile shader")}function I(e,{vert:t,frag:a}){const r=e.createProgram();if(!r)throw new Error("Could not create program");if(e.attachShader(r,t),e.attachShader(r,a),e.linkProgram(r),e.getProgramParameter(r,e.LINK_STATUS))return e.deleteShader(t),e.deleteShader(a),r;const o=e.getProgramInfoLog(r);throw e.deleteProgram(r),new Error(o||"Could not link program")}let f=1;function A(e,{src:t,mipmaps:a=null,internalFormat:r="rgba",target:c="rgba",wrapS:o="REPEAT",wrapT:i="REPEAT",minFilter:u="NEAREST",magFilter:_="NEAREST",flipY:T=!1}){const E=f;f++;const n=e.createTexture();if(!n)throw new Error("Couldn't create texture");const h=c==="rgb"?e.RGB:e.RGBA,R=r==="rgb"?e.RGB:e.RGBA,S=e[o],m=e[i];let d=e[u];const P=e[_];if(a&&(d=e[a]),typeof t=="string"){const s=new Image;s.crossOrigin="anonymous",s.src=t,s.onload=()=>U(e,n,E,s,h,R,S,m,d,P,a,T)}else t instanceof Image&&U(e,n,E,t,h,R,S,m,d,P,a,T);return{id:E,value:n}}function U(e,t,a,r,c,o,i,u,_,T,E,n){w(e,t,a),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,u),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,_),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,T),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,n),e.texImage2D(e.TEXTURE_2D,0,o,r.width,r.height,0,c,e.UNSIGNED_BYTE,r),E&&e.generateMipmap(e.TEXTURE_2D)}function w(e,t,a){e.activeTexture(e.TEXTURE0+a),e.bindTexture(e.TEXTURE_2D,t)}export{I as a,A as b,x as c,w as u};
