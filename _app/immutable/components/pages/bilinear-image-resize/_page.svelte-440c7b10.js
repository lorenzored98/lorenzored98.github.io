import{S as _e,i as de,s as $e,w as q,x as N,y as J,f as F,t as G,z as O,o as Ie,k as y,l as D,m as R,h as u,n as K,b as L,B as Ee,I as ee,J as oe,a as T,q as P,c as W,r as j,G as d,L as ie}from"../../../chunks/index-06b4769f.js";import{B as ze}from"../../../chunks/BlankLink-55b10e42.js";import{M as Ce,S as Me,T as Be}from"../../../chunks/Main-70a15631.js";import{S as Le}from"../../../chunks/Seo-a1f82edf.js";import{D as ye}from"../../../chunks/DemoContainer-627a66be.js";import{I as De}from"../../../chunks/ImageSelect-02a70058.js";import{N as he}from"../../../chunks/NumberRange-c77018e5.js";import{C as Re}from"../../../chunks/Checkbox-c508744d.js";import{l as ue}from"../../../chunks/math-4278f00e.js";function xe(o){let t;return{c(){t=y("canvas"),this.h()},l(e){t=D(e,"CANVAS",{slot:!0,class:!0}),R(t).forEach(u),this.h()},h(){K(t,"slot","canvas"),K(t,"class","svelte-10p45u9")},m(e,n){L(e,t,n),o[17](t)},p:Ee,d(e){e&&u(t),o[17](null)}}}function Se(o){let t,e,n,p,a,g,h,H,k,$,w,M,b,B,f,x,i,V,E,I,s,m,S,v,X,Q;function le(r){o[11](r)}let te={id:"image-select",onChange:o[10]};o[2]!==void 0&&(te.value=o[2]),n=new De({props:te}),ee.push(()=>oe(n,"value",le));function fe(r){o[13](r)}let ne={id:"width",min:me,max:o[4],step:1,onChange:o[12]};o[3]!==void 0&&(ne.value=o[3]),$=new he({props:ne}),ee.push(()=>oe($,"value",fe));function ce(r){o[15](r)}let se={id:"height",min:pe,max:o[6],step:1,onChange:o[14]};o[5]!==void 0&&(se.value=o[5]),i=new he({props:se}),ee.push(()=>oe(i,"value",ce));function c(r){o[16](r)}let z={id:"lock-aspect",onChange:o[9]};return o[7]!==void 0&&(z.checked=o[7]),v=new Re({props:z}),ee.push(()=>oe(v,"checked",c)),{c(){t=y("fieldset"),e=y("div"),q(n.$$.fragment),a=T(),g=y("div"),h=y("label"),H=P("Width"),k=T(),q($.$$.fragment),M=T(),b=y("div"),B=y("label"),f=P("Height"),x=T(),q(i.$$.fragment),E=T(),I=y("div"),s=y("label"),m=P("Lock Aspect"),S=T(),q(v.$$.fragment),this.h()},l(r){t=D(r,"FIELDSET",{slot:!0});var l=R(t);e=D(l,"DIV",{class:!0});var _=R(e);N(n.$$.fragment,_),_.forEach(u),a=W(l),g=D(l,"DIV",{class:!0});var C=R(g);h=D(C,"LABEL",{for:!0});var A=R(h);H=j(A,"Width"),A.forEach(u),k=W(C),N($.$$.fragment,C),C.forEach(u),M=W(l),b=D(l,"DIV",{class:!0});var U=R(b);B=D(U,"LABEL",{for:!0});var ae=R(B);f=j(ae,"Height"),ae.forEach(u),x=W(U),N(i.$$.fragment,U),U.forEach(u),E=W(l),I=D(l,"DIV",{class:!0});var Z=R(I);s=D(Z,"LABEL",{for:!0});var re=R(s);m=j(re,"Lock Aspect"),re.forEach(u),S=W(Z),N(v.$$.fragment,Z),Z.forEach(u),l.forEach(u),this.h()},h(){K(e,"class","demo-input-group"),K(h,"for","width"),K(g,"class","demo-input-group"),K(B,"for","height"),K(b,"class","demo-input-group"),K(s,"for","lock-aspect"),K(I,"class","demo-input-group"),K(t,"slot","controls")},m(r,l){L(r,t,l),d(t,e),J(n,e,null),d(t,a),d(t,g),d(g,h),d(h,H),d(g,k),J($,g,null),d(t,M),d(t,b),d(b,B),d(B,f),d(b,x),J(i,b,null),d(t,E),d(t,I),d(I,s),d(s,m),d(I,S),J(v,I,null),Q=!0},p(r,l){const _={};l&6&&(_.onChange=r[10]),!p&&l&4&&(p=!0,_.value=r[2],ie(()=>p=!1)),n.$set(_);const C={};l&16&&(C.max=r[4]),!w&&l&8&&(w=!0,C.value=r[3],ie(()=>w=!1)),$.$set(C);const A={};l&64&&(A.max=r[6]),!V&&l&32&&(V=!0,A.value=r[5],ie(()=>V=!1)),i.$set(A);const U={};!X&&l&128&&(X=!0,U.checked=r[7],ie(()=>X=!1)),v.$set(U)},i(r){Q||(F(n.$$.fragment,r),F($.$$.fragment,r),F(i.$$.fragment,r),F(v.$$.fragment,r),Q=!0)},o(r){G(n.$$.fragment,r),G($.$$.fragment,r),G(i.$$.fragment,r),G(v.$$.fragment,r),Q=!1},d(r){r&&u(t),O(n),O($),O(i),O(v)}}}function Ae(o){let t,e;return t=new ye({props:{id:"container",caption:"Bilinear Image Resize",$$slots:{controls:[Se],canvas:[xe]},$$scope:{ctx:o}}}),{c(){q(t.$$.fragment)},l(n){N(t.$$.fragment,n)},m(n,p){J(t,n,p),e=!0},p(n,[p]){const a={};p&1073742079&&(a.$$scope={dirty:p,ctx:n}),t.$set(a)},i(n){e||(F(t.$$.fragment,n),e=!0)},o(n){G(t.$$.fragment,n),e=!1},d(n){O(t,n)}}}const me=1,pe=1;function Te(o,t,e){let n=0,p,a,g,h,H,k=0,$=0,w,M,b="/images/ukiyo-e.webp",B=0,f=0,x=0,i=0,V=0,E=!0;Ie(()=>{g=a.getContext("2d"),n=Math.floor(window.innerWidth),p=document.getElementById("container"),h=document.createElement("canvas"),H=h.getContext("2d");function c(){const r=Math.floor(window.innerWidth);r!==n&&(n=r,z())}function z(){k=w.width,$=w.height,B=k/$;const r=p.clientWidth,l=window.innerHeight-window.innerHeight/4;if(e(3,f=k),e(5,i=$),r>0&&l>0){if(f>r){const _=r/f;e(3,f*=_),e(5,i*=_)}if(i>l){const _=l/i;e(3,f*=_),e(5,i*=_)}e(3,f=Math.floor(f)),e(5,i=Math.floor(i))}e(0,a.width=f,a),e(0,a.height=i,a),e(0,a.style.width=`${f}px`,a),e(0,a.style.height=`${i}px`,a),e(4,x=f),e(6,V=i),h.width=k,h.height=$,H.drawImage(w,0,0),M=H.getImageData(0,0,k,$).data,I()}return e(1,w=new Image),e(1,w.crossOrigin="anonymous",w),e(1,w.onload=z,w),e(1,w.src=b,w),window.addEventListener("resize",c,{passive:!0}),()=>{window.removeEventListener("resize",c)}});function I(){g.clearRect(0,0,k,$);const c=new ImageData(f,i);for(let z=0;z<f;z++)for(let r=0;r<i;r++){const l=z/f*(k-1),_=r/i*($-1),C=Math.floor(l),A=Math.floor(_),U=s(C,A),ae=s(C+1,A),Z=s(C,A+1),re=s(C+1,A+1);let ge=[0,0,0];for(let Y=0;Y<=2;Y++){const we=U+Y,be=ae+Y,ve=Z+Y,ke=re+Y;ge[Y]=S(M[we],M[be],M[ve],M[ke],l-C,_-A)}m(c,z,r,ge)}g.putImageData(c,0,0)}function s(c,z){return Math.floor(c*4+z*k*4)}function m(c,z,r,l){const _=Math.floor(z*4+r*f*4);c.data[_+0]=l[0],c.data[_+1]=l[1],c.data[_+2]=l[2],c.data[_+3]=255}function S(c,z,r,l,_,C){return ue(ue(c,r,_),ue(z,l,_),C)}function v(c){E&&(c?(e(5,i=Math.floor(f/B)),i<pe&&e(5,i=pe)):(e(3,f=Math.floor(i*B)),f<me&&e(3,f=me))),I()}const X=()=>{e(1,w.src=b,w),I()};function Q(c){b=c,e(2,b)}const le=()=>v(!0);function te(c){f=c,e(3,f)}const fe=()=>v(!1);function ne(c){i=c,e(5,i)}function ce(c){E=c,e(7,E)}function se(c){ee[c?"unshift":"push"](()=>{a=c,e(0,a)})}return[a,w,b,f,x,i,V,E,I,v,X,Q,le,te,fe,ne,ce,se]}class We extends _e{constructor(t){super(),de(this,t,Te,Ae,$e,{})}}function He(o){let t;return{c(){t=P("Bilinear Image Resize")},l(e){t=j(e,"Bilinear Image Resize")},m(e,n){L(e,t,n)},d(e){e&&u(t)}}}function Ve(o){let t;return{c(){t=P("scratchapixel tutorial")},l(e){t=j(e,"scratchapixel tutorial")},m(e,n){L(e,t,n)},d(e){e&&u(t)}}}function Pe(o){let t,e,n,p,a,g,h,H,k,$,w,M,b,B,f,x,i,V,E,I;return t=new Be({props:{timestamp:1654056e3,$$slots:{default:[He]},$$scope:{ctx:o}}}),a=new ze({props:{href:"https://www.scratchapixel.com/lessons/mathematics-physics-for-computer-graphics/interpolation/bilinear-filtering",$$slots:{default:[Ve]},$$scope:{ctx:o}}}),E=new We({}),{c(){q(t.$$.fragment),e=T(),n=y("p"),p=P("Mostly followed a "),q(a.$$.fragment),g=T(),h=y("p"),H=P("I'm not sure if this is what happens by default when using "),k=y("var"),$=P("ctx.drawImage()"),w=P(" and source and target sizes differ. The result looks similar."),M=T(),b=y("p"),B=P(`There are jagged edges when resizing because there is no
			antialiasing function applied.`),f=T(),x=y("p"),i=P(`This demo could also upscale the image. Due to the layout of this
			page, I decided to cap it to a maximum value which is always smaller
			or equal to the original image.`),V=T(),q(E.$$.fragment)},l(s){N(t.$$.fragment,s),e=W(s),n=D(s,"P",{});var m=R(n);p=j(m,"Mostly followed a "),N(a.$$.fragment,m),m.forEach(u),g=W(s),h=D(s,"P",{});var S=R(h);H=j(S,"I'm not sure if this is what happens by default when using "),k=D(S,"VAR",{});var v=R(k);$=j(v,"ctx.drawImage()"),v.forEach(u),w=j(S," and source and target sizes differ. The result looks similar."),S.forEach(u),M=W(s),b=D(s,"P",{});var X=R(b);B=j(X,`There are jagged edges when resizing because there is no
			antialiasing function applied.`),X.forEach(u),f=W(s),x=D(s,"P",{});var Q=R(x);i=j(Q,`This demo could also upscale the image. Due to the layout of this
			page, I decided to cap it to a maximum value which is always smaller
			or equal to the original image.`),Q.forEach(u),V=W(s),N(E.$$.fragment,s)},m(s,m){J(t,s,m),L(s,e,m),L(s,n,m),d(n,p),J(a,n,null),L(s,g,m),L(s,h,m),d(h,H),d(h,k),d(k,$),d(h,w),L(s,M,m),L(s,b,m),d(b,B),L(s,f,m),L(s,x,m),d(x,i),L(s,V,m),J(E,s,m),I=!0},p(s,m){const S={};m&1&&(S.$$scope={dirty:m,ctx:s}),t.$set(S);const v={};m&1&&(v.$$scope={dirty:m,ctx:s}),a.$set(v)},i(s){I||(F(t.$$.fragment,s),F(a.$$.fragment,s),F(E.$$.fragment,s),I=!0)},o(s){G(t.$$.fragment,s),G(a.$$.fragment,s),G(E.$$.fragment,s),I=!1},d(s){O(t,s),s&&u(e),s&&u(n),O(a),s&&u(g),s&&u(h),s&&u(M),s&&u(b),s&&u(f),s&&u(x),s&&u(V),O(E,s)}}}function je(o){let t,e;return t=new Me({props:{$$slots:{default:[Pe]},$$scope:{ctx:o}}}),{c(){q(t.$$.fragment)},l(n){N(t.$$.fragment,n)},m(n,p){J(t,n,p),e=!0},p(n,p){const a={};p&1&&(a.$$scope={dirty:p,ctx:n}),t.$set(a)},i(n){e||(F(t.$$.fragment,n),e=!0)},o(n){G(t.$$.fragment,n),e=!1},d(n){O(t,n)}}}function qe(o){let t,e,n,p;return t=new Le({props:{title:"Bilinear Image Resize",description:"Resize image using javascript",keywords:"Javascript, Image, Canvas, Canvas2D, Resize, Bilinear Interpolation"}}),n=new Ce({props:{$$slots:{default:[je]},$$scope:{ctx:o}}}),{c(){q(t.$$.fragment),e=T(),q(n.$$.fragment)},l(a){N(t.$$.fragment,a),e=W(a),N(n.$$.fragment,a)},m(a,g){J(t,a,g),L(a,e,g),J(n,a,g),p=!0},p(a,[g]){const h={};g&1&&(h.$$scope={dirty:g,ctx:a}),n.$set(h)},i(a){p||(F(t.$$.fragment,a),F(n.$$.fragment,a),p=!0)},o(a){G(t.$$.fragment,a),G(n.$$.fragment,a),p=!1},d(a){O(t,a),a&&u(e),O(n,a)}}}class Ye extends _e{constructor(t){super(),de(this,t,null,qe,$e,{})}}export{Ye as default};
