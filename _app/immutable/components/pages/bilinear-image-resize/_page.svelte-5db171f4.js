import{S as _e,i as de,s as we,w as W,x as y,y as H,f as V,t as P,z as j,o as Ee,k as R,l as S,m as x,h as u,n as O,b as z,B as ze,J as ee,K as oe,a as A,q as J,c as T,r as G,G as d,M as ie}from"../../../chunks/index-a4a97fa6.js";import{S as Ce,B as Me}from"../../../chunks/Seo-3e94c9ab.js";import{M as Be,F as De,S as he,T as Le,a as Re}from"../../../chunks/Footer-cc357b56.js";import{D as Se}from"../../../chunks/DemoContainer-abd5cee0.js";import{I as xe}from"../../../chunks/ImageSelect-6b6f6191.js";import{N as $e}from"../../../chunks/NumberRange-8f4747ca.js";import{C as Ae}from"../../../chunks/Checkbox-09103b41.js";import{l as ue}from"../../../chunks/math-fcbdfd63.js";function Te(i){let e;return{c(){e=R("canvas"),this.h()},l(t){e=S(t,"CANVAS",{slot:!0,class:!0}),x(e).forEach(u),this.h()},h(){O(e,"slot","canvas"),O(e,"class","svelte-10p45u9")},m(t,n){z(t,e,n),i[17](e)},p:ze,d(t){t&&u(e),i[17](null)}}}function We(i){let e,t,n,m,s,f,r,$,w,b,v,D,k,L,p,q,l,K,C,E,a,h,F,I,X,Q;function le(o){i[11](o)}let te={id:"image-select",onChange:i[10]};i[2]!==void 0&&(te.value=i[2]),n=new xe({props:te}),ee.push(()=>oe(n,"value",le));function fe(o){i[13](o)}let ne={id:"width",min:me,max:i[4],step:1,onChange:i[12]};i[3]!==void 0&&(ne.value=i[3]),b=new $e({props:ne}),ee.push(()=>oe(b,"value",fe));function ce(o){i[15](o)}let se={id:"height",min:pe,max:i[6],step:1,onChange:i[14]};i[5]!==void 0&&(se.value=i[5]),l=new $e({props:se}),ee.push(()=>oe(l,"value",ce));function g(o){i[16](o)}let M={id:"lock-aspect",onChange:i[9]};return i[7]!==void 0&&(M.checked=i[7]),I=new Ae({props:M}),ee.push(()=>oe(I,"checked",g)),{c(){e=R("fieldset"),t=R("div"),W(n.$$.fragment),s=A(),f=R("div"),r=R("label"),$=J("Width"),w=A(),W(b.$$.fragment),D=A(),k=R("div"),L=R("label"),p=J("Height"),q=A(),W(l.$$.fragment),C=A(),E=R("div"),a=R("label"),h=J("Lock Aspect"),F=A(),W(I.$$.fragment),this.h()},l(o){e=S(o,"FIELDSET",{slot:!0});var c=x(e);t=S(c,"DIV",{class:!0});var _=x(t);y(n.$$.fragment,_),_.forEach(u),s=T(c),f=S(c,"DIV",{class:!0});var B=x(f);r=S(B,"LABEL",{for:!0});var N=x(r);$=G(N,"Width"),N.forEach(u),w=T(B),y(b.$$.fragment,B),B.forEach(u),D=T(c),k=S(c,"DIV",{class:!0});var U=x(k);L=S(U,"LABEL",{for:!0});var ae=x(L);p=G(ae,"Height"),ae.forEach(u),q=T(U),y(l.$$.fragment,U),U.forEach(u),C=T(c),E=S(c,"DIV",{class:!0});var Z=x(E);a=S(Z,"LABEL",{for:!0});var re=x(a);h=G(re,"Lock Aspect"),re.forEach(u),F=T(Z),y(I.$$.fragment,Z),Z.forEach(u),c.forEach(u),this.h()},h(){O(t,"class","demo-input-group"),O(r,"for","width"),O(f,"class","demo-input-group"),O(L,"for","height"),O(k,"class","demo-input-group"),O(a,"for","lock-aspect"),O(E,"class","demo-input-group"),O(e,"slot","controls")},m(o,c){z(o,e,c),d(e,t),H(n,t,null),d(e,s),d(e,f),d(f,r),d(r,$),d(f,w),H(b,f,null),d(e,D),d(e,k),d(k,L),d(L,p),d(k,q),H(l,k,null),d(e,C),d(e,E),d(E,a),d(a,h),d(E,F),H(I,E,null),Q=!0},p(o,c){const _={};c&6&&(_.onChange=o[10]),!m&&c&4&&(m=!0,_.value=o[2],ie(()=>m=!1)),n.$set(_);const B={};c&16&&(B.max=o[4]),!v&&c&8&&(v=!0,B.value=o[3],ie(()=>v=!1)),b.$set(B);const N={};c&64&&(N.max=o[6]),!K&&c&32&&(K=!0,N.value=o[5],ie(()=>K=!1)),l.$set(N);const U={};!X&&c&128&&(X=!0,U.checked=o[7],ie(()=>X=!1)),I.$set(U)},i(o){Q||(V(n.$$.fragment,o),V(b.$$.fragment,o),V(l.$$.fragment,o),V(I.$$.fragment,o),Q=!0)},o(o){P(n.$$.fragment,o),P(b.$$.fragment,o),P(l.$$.fragment,o),P(I.$$.fragment,o),Q=!1},d(o){o&&u(e),j(n),j(b),j(l),j(I)}}}function ye(i){let e,t;return e=new Se({props:{id:"container",caption:"Bilinear Image Resize",$$slots:{controls:[We],canvas:[Te]},$$scope:{ctx:i}}}),{c(){W(e.$$.fragment)},l(n){y(e.$$.fragment,n)},m(n,m){H(e,n,m),t=!0},p(n,[m]){const s={};m&1073742079&&(s.$$scope={dirty:m,ctx:n}),e.$set(s)},i(n){t||(V(e.$$.fragment,n),t=!0)},o(n){P(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}const me=1,pe=1;function He(i,e,t){let n=0,m,s,f,r,$,w=0,b=0,v,D,k="/images/starrynight.webp",L=0,p=0,q=0,l=0,K=0,C=!0;Ee(()=>{f=s.getContext("2d"),n=Math.floor(window.innerWidth),m=document.getElementById("container"),r=document.createElement("canvas"),$=r.getContext("2d");function g(){const o=Math.floor(window.innerWidth);o!==n&&(n=o,M())}function M(){w=v.width,b=v.height,L=w/b;const o=m.clientWidth,c=window.innerHeight-window.innerHeight/4;if(t(3,p=w),t(5,l=b),o>0&&c>0){if(p>o){const _=o/p;t(3,p*=_),t(5,l*=_)}if(l>c){const _=c/l;t(3,p*=_),t(5,l*=_)}t(3,p=Math.floor(p)),t(5,l=Math.floor(l))}t(0,s.width=p,s),t(0,s.height=l,s),t(0,s.style.width=`${p}px`,s),t(0,s.style.height=`${l}px`,s),t(4,q=p),t(6,K=l),r.width=w,r.height=b,$.drawImage(v,0,0),D=$.getImageData(0,0,w,b).data,E()}return t(1,v=new Image),t(1,v.crossOrigin="anonymous",v),t(1,v.onload=M,v),t(1,v.src=k,v),window.addEventListener("resize",g,{passive:!0}),()=>{window.removeEventListener("resize",g)}});function E(){f.clearRect(0,0,w,b);const g=new ImageData(p,l);for(let M=0;M<p;M++)for(let o=0;o<l;o++){const c=M/p*(w-1),_=o/l*(b-1),B=Math.floor(c),N=Math.floor(_),U=a(B,N),ae=a(B+1,N),Z=a(B,N+1),re=a(B+1,N+1);let ge=[0,0,0];for(let Y=0;Y<=2;Y++){const be=U+Y,ve=ae+Y,ke=Z+Y,Ie=re+Y;ge[Y]=F(D[be],D[ve],D[ke],D[Ie],c-B,_-N)}h(g,M,o,ge)}f.putImageData(g,0,0)}function a(g,M){return Math.floor(g*4+M*w*4)}function h(g,M,o,c){const _=Math.floor(M*4+o*p*4);g.data[_+0]=c[0],g.data[_+1]=c[1],g.data[_+2]=c[2],g.data[_+3]=255}function F(g,M,o,c,_,B){return ue(ue(g,o,_),ue(M,c,_),B)}function I(g){C&&(g?(t(5,l=Math.floor(p/L)),l<pe&&t(5,l=pe)):(t(3,p=Math.floor(l*L)),p<me&&t(3,p=me))),E()}const X=()=>{t(1,v.src=k,v),E()};function Q(g){k=g,t(2,k)}const le=()=>I(!0);function te(g){p=g,t(3,p)}const fe=()=>I(!1);function ne(g){l=g,t(5,l)}function ce(g){C=g,t(7,C)}function se(g){ee[g?"unshift":"push"](()=>{s=g,t(0,s)})}return[s,v,k,p,q,l,K,C,E,I,X,Q,le,te,fe,ne,ce,se]}class Ve extends _e{constructor(e){super(),de(this,e,He,ye,we,{})}}function Pe(i){let e;return{c(){e=J("Bilinear Image Resize")},l(t){e=G(t,"Bilinear Image Resize")},m(t,n){z(t,e,n)},d(t){t&&u(e)}}}function je(i){let e,t;return e=new Le({props:{timestamp:1654056e3,$$slots:{default:[Pe]},$$scope:{ctx:i}}}),{c(){W(e.$$.fragment)},l(n){y(e.$$.fragment,n)},m(n,m){H(e,n,m),t=!0},p(n,m){const s={};m&1&&(s.$$scope={dirty:m,ctx:n}),e.$set(s)},i(n){t||(V(e.$$.fragment,n),t=!0)},o(n){P(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function qe(i){let e;return{c(){e=J("Demo")},l(t){e=G(t,"Demo")},m(t,n){z(t,e,n)},d(t){t&&u(e)}}}function Fe(i){let e;return{c(){e=J("scratchapixel tutorial")},l(t){e=G(t,"scratchapixel tutorial")},m(t,n){z(t,e,n)},d(t){t&&u(e)}}}function Ne(i){let e,t,n,m,s,f,r,$,w,b,v,D,k,L,p,q,l,K,C,E;return e=new Re({props:{id:"demo",$$slots:{default:[qe]},$$scope:{ctx:i}}}),s=new Me({props:{href:"https://www.scratchapixel.com/lessons/mathematics-physics-for-computer-graphics/interpolation/bilinear-filtering",$$slots:{default:[Fe]},$$scope:{ctx:i}}}),C=new Ve({}),{c(){W(e.$$.fragment),t=A(),n=R("p"),m=J("Mostly followed a "),W(s.$$.fragment),f=A(),r=R("p"),$=J("I'm not sure if this is what happens by default when using "),w=R("var"),b=J("ctx.drawImage()"),v=J(" and source and target sizes differ. The result looks similar."),D=A(),k=R("p"),L=J(`There are jagged edges when resizing because there is no
			antialiasing function applied.`),p=A(),q=R("p"),l=J(`This demo could also upscale the image. Due to the layout of this
			page, I decided to cap it to a maximum value which is always smaller
			or equal to the original image.`),K=A(),W(C.$$.fragment)},l(a){y(e.$$.fragment,a),t=T(a),n=S(a,"P",{});var h=x(n);m=G(h,"Mostly followed a "),y(s.$$.fragment,h),h.forEach(u),f=T(a),r=S(a,"P",{});var F=x(r);$=G(F,"I'm not sure if this is what happens by default when using "),w=S(F,"VAR",{});var I=x(w);b=G(I,"ctx.drawImage()"),I.forEach(u),v=G(F," and source and target sizes differ. The result looks similar."),F.forEach(u),D=T(a),k=S(a,"P",{});var X=x(k);L=G(X,`There are jagged edges when resizing because there is no
			antialiasing function applied.`),X.forEach(u),p=T(a),q=S(a,"P",{});var Q=x(q);l=G(Q,`This demo could also upscale the image. Due to the layout of this
			page, I decided to cap it to a maximum value which is always smaller
			or equal to the original image.`),Q.forEach(u),K=T(a),y(C.$$.fragment,a)},m(a,h){H(e,a,h),z(a,t,h),z(a,n,h),d(n,m),H(s,n,null),z(a,f,h),z(a,r,h),d(r,$),d(r,w),d(w,b),d(r,v),z(a,D,h),z(a,k,h),d(k,L),z(a,p,h),z(a,q,h),d(q,l),z(a,K,h),H(C,a,h),E=!0},p(a,h){const F={};h&1&&(F.$$scope={dirty:h,ctx:a}),e.$set(F);const I={};h&1&&(I.$$scope={dirty:h,ctx:a}),s.$set(I)},i(a){E||(V(e.$$.fragment,a),V(s.$$.fragment,a),V(C.$$.fragment,a),E=!0)},o(a){P(e.$$.fragment,a),P(s.$$.fragment,a),P(C.$$.fragment,a),E=!1},d(a){j(e,a),a&&u(t),a&&u(n),j(s),a&&u(f),a&&u(r),a&&u(D),a&&u(k),a&&u(p),a&&u(q),a&&u(K),j(C,a)}}}function Je(i){let e,t,n,m;return e=new he({props:{$$slots:{default:[je]},$$scope:{ctx:i}}}),n=new he({props:{$$slots:{default:[Ne]},$$scope:{ctx:i}}}),{c(){W(e.$$.fragment),t=A(),W(n.$$.fragment)},l(s){y(e.$$.fragment,s),t=T(s),y(n.$$.fragment,s)},m(s,f){H(e,s,f),z(s,t,f),H(n,s,f),m=!0},p(s,f){const r={};f&1&&(r.$$scope={dirty:f,ctx:s}),e.$set(r);const $={};f&1&&($.$$scope={dirty:f,ctx:s}),n.$set($)},i(s){m||(V(e.$$.fragment,s),V(n.$$.fragment,s),m=!0)},o(s){P(e.$$.fragment,s),P(n.$$.fragment,s),m=!1},d(s){j(e,s),s&&u(t),j(n,s)}}}function Ge(i){let e,t,n,m,s,f;return e=new Ce({props:{title:"Bilinear Image Resize",description:"Resize image using javascript",keywords:"Javascript, Image, Canvas, Canvas2D, Resize, Bilinear Interpolation"}}),n=new Be({props:{$$slots:{default:[Je]},$$scope:{ctx:i}}}),s=new De({}),{c(){W(e.$$.fragment),t=A(),W(n.$$.fragment),m=A(),W(s.$$.fragment)},l(r){y(e.$$.fragment,r),t=T(r),y(n.$$.fragment,r),m=T(r),y(s.$$.fragment,r)},m(r,$){H(e,r,$),z(r,t,$),H(n,r,$),z(r,m,$),H(s,r,$),f=!0},p(r,[$]){const w={};$&1&&(w.$$scope={dirty:$,ctx:r}),n.$set(w)},i(r){f||(V(e.$$.fragment,r),V(n.$$.fragment,r),V(s.$$.fragment,r),f=!0)},o(r){P(e.$$.fragment,r),P(n.$$.fragment,r),P(s.$$.fragment,r),f=!1},d(r){j(e,r),r&&u(t),j(n,r),r&&u(m),j(s,r)}}}class tt extends _e{constructor(e){super(),de(this,e,null,Ge,we,{})}}export{tt as default};
